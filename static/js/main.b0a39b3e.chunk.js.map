{"version":3,"sources":["components/Map.js","components/BreweryData.js","components/SuggestionTile.js","components/Suggestions.js","components/Input.js","components/Main.js","components/Footer.js","components/Header.js","components/App.js","index.js"],"names":["Map","position","this","props","chosenBrewery","latitude","longitude","name","map","L","zoomControl","setView","tileLayer","attribution","addTo","marker","bindPopup","control","zoom","setTimeout","invalidateSize","bind","mapCreating","className","id","Component","BreweryData","brew","street","city","state","website_url","href","slice","SuggestionTile","cursor","i","breweryId","onClick","pickBrewery","Suggestions","autocompleteRender","autocompleteResult","item","key","listVisibility","isSuggestionsVisible","Input","inputActive","placeholder","onChange","e","autocomplete","target","value","inputValue","Main","submitAutocomplete","setState","search","debounce","fetch","then","handleErrors","result","json","catch","console","log","ok","Error","statusText","event","getAttribute","prevState","Footer","Header","rel","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b0a39b3e.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport L from 'leaflet'\r\n\r\nclass Map extends Component {\r\n    mapCreating() {\r\n        const position = this.props.chosenBrewery.latitude\r\n            ? [this.props.chosenBrewery.latitude, this.props.chosenBrewery.longitude]\r\n            : [0, 0]\r\n\r\n        const name = (this.props.chosenBrewery.name) ?\r\n            this.props.chosenBrewery.name : ' '\r\n\r\n        const map = L.map('map', { zoomControl: false }).setView(position, 12)\r\n\r\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n            attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n        }).addTo(map)\r\n\r\n        L.marker(position)\r\n            .addTo(map)\r\n            .bindPopup(name)\r\n\r\n        L.control.zoom({\r\n            position: 'bottomright'\r\n        }).addTo(map)\r\n\r\n        setTimeout(map.invalidateSize.bind(map))\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mapCreating()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='map'>\r\n                <div id='map' className='map__content'></div>\r\n                <div className={`map__curtain ${this.props.chosenBrewery.latitude ? 'invisible' : ' '}`}>\r\n                    <p className='map__explanation'>Sorry, geographical coordinates are unknown</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Map\r\n","import React from 'react'\r\n\r\nfunction BreweryData(props) {\r\n    const brew = props.chosenBrewery\r\n\r\n    return (\r\n        <div className='brewery-data'>\r\n            {(brew.name && props.id !== 0)\r\n                ? <p className='brewery-data__paragraph'>\r\n                    {brew.name}\r\n                </p>\r\n                : null\r\n            }\r\n\r\n            {(brew.street && brew.city && brew.state)\r\n                ? <p className='brewery-data__paragraph'>\r\n                    {`${brew.street}, ${brew.city}, ${brew.state}`}\r\n                </p>\r\n                : null\r\n            }\r\n\r\n            {brew.website_url\r\n                ? <a\r\n                    className='brewery-data__link'\r\n                    href={brew.website_url}\r\n                >\r\n                    {brew.website_url.slice(11)}\r\n                </a>\r\n                : null\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BreweryData\r\n","import React from 'react'\r\n\r\nfunction SuggestionTile(props) {\r\n    return (\r\n        <li className='suggestions__item'>\r\n            <button\r\n                \r\n                className={`${props.cursor === props.i ? 'active' : null} suggestions__button`}\r\n                id={props.breweryId}\r\n                onClick={props.pickBrewery}\r\n            >\r\n                {props.name}\r\n            </button>\r\n        </li>\r\n    )\r\n}\r\nexport default SuggestionTile\r\n","import React from 'react'\r\nimport SuggestionTile from './SuggestionTile'\r\n\r\nfunction Suggestions(props) {\r\n    const autocompleteRender = props.autocompleteResult.map(item =>\r\n        <SuggestionTile\r\n            name={item.name}\r\n            key={item.id}\r\n            breweryId={item.id}\r\n            pickBrewery={props.pickBrewery}\r\n        />\r\n    )\r\n    const listVisibility = (props.isSuggestionsVisible) ? '' : 'suggestions--invisible'\r\n\r\n    return (\r\n        <div className={`suggestions ${listVisibility}`}>\r\n            <ul className={`suggestions__list`} >\r\n                {autocompleteRender}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Suggestions\r\n","import React from 'react'\r\n\r\nfunction Input(props) {\r\n    const inputActive = props.isSuggestionsVisible ? 'input--active' : ''\r\n    return (\r\n        <input\r\n            className={`input ${inputActive}`}\r\n            placeholder='Search Brewery...'\r\n            onChange={e => props.autocomplete(e.target.value)}\r\n            value={props.inputValue}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Input\r\n","import React, { Component } from 'react'\r\nimport { debounce } from 'lodash'\r\nimport Map from './Map'\r\nimport BreweryData from './BreweryData'\r\nimport Suggestions from './Suggestions'\r\nimport Input from './Input'\r\n\r\nclass Main extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            autocompleteResult: [],\r\n            search: '',\r\n            key: 0,\r\n            chosenBrewery: {\r\n                name: 'New York City',\r\n                latitude: '40.730610',\r\n                longitude: '-73.935242'\r\n            },\r\n            isSuggestionsVisible: false\r\n        }\r\n        this.submitAutocomplete = this.submitAutocomplete.bind(this)\r\n        this.pickBrewery = this.pickBrewery.bind(this)\r\n    }\r\n\r\n    handleErrors(result) {\r\n        if (!result.ok) {\r\n            throw Error(result.statusText)\r\n        }\r\n        return result\r\n    }\r\n\r\n    submitAutocomplete = value => {\r\n        if (value) {\r\n            this.setState({\r\n                search: value,\r\n                isSuggestionsVisible: true\r\n            }, debounce(() => {\r\n                fetch(`https://api.openbrewerydb.org/breweries/autocomplete?query=${this.state.search}`)\r\n                    .then(this.handleErrors)\r\n                    .then(result => result.json())\r\n                    .then(result => {\r\n                        this.setState({\r\n                            autocompleteResult: result\r\n                        })\r\n                    }\r\n                    )\r\n                    .catch(console.log)\r\n            }, 500))\r\n        } else {\r\n            this.setState({\r\n                search: value,\r\n                isSuggestionsVisible: false\r\n            })\r\n        }\r\n    }\r\n\r\n    pickBrewery(event) {\r\n        fetch(`https://api.openbrewerydb.org/breweries/${event.target.getAttribute('id')}`)\r\n            .then(result => result.json())\r\n            .then(\r\n                result => {\r\n                    this.setState(prevState => {\r\n                        return {\r\n                            chosenBrewery: result,\r\n                            key: prevState.key + 1,\r\n                            search: result.name,\r\n                            isSuggestionsVisible: false,\r\n                            autocompleteResult: []\r\n                        }\r\n                    })\r\n                }\r\n            )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <main className='main'>\r\n                <Input\r\n                    autocomplete={this.submitAutocomplete}\r\n                    inputValue={this.state.search}\r\n                    isSuggestionsVisible={this.state.isSuggestionsVisible}\r\n                />\r\n                <Suggestions\r\n                    autocomplete={this.submitAutocomplete}\r\n                    autocompleteResult={this.state.autocompleteResult}\r\n                    pickBrewery={this.pickBrewery}\r\n                    isSuggestionsVisible={this.state.isSuggestionsVisible}\r\n                    id={this.state.key}\r\n                />\r\n                <BreweryData\r\n                    chosenBrewery={this.state.chosenBrewery}\r\n                    id={this.state.key}\r\n                />\r\n                <Map\r\n                    chosenBrewery={this.state.chosenBrewery}\r\n                    key={this.state.key}\r\n                />\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Main\r\n","import React from 'react'\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className='footer'>\r\n            <div className='footer__container'>\r\n                <div className='footer__content'>\r\n                    Powered by:\r\n                    <a\r\n                        className='footer__link'\r\n                        href='https://www.openbrewerydb.org'\r\n                    >\r\n                        Open Brewery DB\r\n                    </a>\r\n                </div>\r\n                <div className='footer__content'>Created by: Dominik Józefiak</div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className='header'>\r\n            <h1 className='header__title'>Brewfinder</h1>\r\n            <a  \r\n                className='header__link'\r\n                href='https://github.com/DomLJ/Brewfinder'\r\n                target='_blank'\r\n                rel='noopener noreferrer'\r\n            >\r\n                <i className='header__icon fab fa-github'></i>\r\n            </a>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport Main from './Main'\r\nimport Footer from './Footer'\r\nimport Header from './Header'\r\n\r\nfunction App() {\r\n    return (\r\n        <>\r\n            <Header />\r\n            <Main />\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './style.scss'\r\nimport App from './components/App'\r\nimport 'remove-focus-outline'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}