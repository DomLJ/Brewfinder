{"version":3,"sources":["components/Map.js","components/BreweryData.js","components/AutocompleteTile.js","components/Suggestions.js","components/Input.js","components/Main.js","components/Footer.js","components/Header.js","components/App.js","index.js"],"names":["Map","position","this","props","chosenBrewery","latitude","longitude","name","map","L","zoomControl","setView","tileLayer","attribution","addTo","marker","bindPopup","control","zoom","setTimeout","invalidateSize","bind","mapCreating","className","id","Component","BreweryData","brew","link","website_url","href","target","rel","slice","street","city","state","AutocompleteTile","breweryId","onClick","pickBrewery","Suggestions","autocompleteRender","autocompleteResult","item","key","listVisibility","isAutocompleteVisible","Input","inputActive","placeholder","onChange","e","autocomplete","value","inputValue","Main","submitAutocomplete","setState","search","debounce","fetch","then","handleErrors","result","json","catch","console","log","ok","Error","statusText","event","getAttribute","prevState","Footer","Header","App","ReactDOM","render","document","getElementById"],"mappings":"yRA6CeA,E,sLAxCP,IAAMC,EAAWC,KAAKC,MAAMC,cAAcC,SACpC,CAACH,KAAKC,MAAMC,cAAcC,SAAUH,KAAKC,MAAMC,cAAcE,WAC7D,CAAC,EAAG,GAEJC,EAAQL,KAAKC,MAAMC,cAAcG,KACnCL,KAAKC,MAAMC,cAAcG,KAAO,IAE9BC,EAAMC,IAAED,IAAI,MAAO,CAAEE,aAAa,IAASC,QAAQV,EAAU,IAEnEQ,IAAEG,UAAU,qDAAsD,CAC9DC,YAAa,6EACdC,MAAMN,GAETC,IAAEM,OAAOd,GACJa,MAAMN,GACNQ,UAAUT,GAEfE,IAAEQ,QAAQC,KAAK,CACXjB,SAAU,gBACXa,MAAMN,GAETW,WAAWX,EAAIY,eAAeC,KAAKb,M,0CAInCN,KAAKoB,gB,+BAIL,OACI,yBAAKC,UAAU,OACX,yBAAKC,GAAG,MAAMD,UAAU,iBACxB,yBAAKA,UAAS,uBAAkBrB,KAAKC,MAAMC,cAAcC,SAAW,YAAc,MAC9E,uBAAGkB,UAAU,oBAAb,qD,GAnCFE,aC+BHC,MAhCf,SAAqBvB,GACjB,IAAMwB,EAAOxB,EAAMC,cACbwB,EAAOD,EAAKE,YACZ,uBACEN,UAAU,qBACVO,KAAMH,EAAKE,YACXE,OAAO,SACPC,IAAI,uBAEHL,EAAKE,YAAYI,MAAM,KAE1B,KAEN,OACI,yBAAKV,UAAU,gBACX,uBAAGA,UAAU,2BACPI,EAAKpB,MAAqB,IAAbJ,EAAMqB,GACfG,EAAKpB,KACL,MAGV,uBAAGgB,UAAU,2BACPI,EAAKO,QAAUP,EAAKQ,MAAQR,EAAKS,MAAlC,UACQT,EAAKO,OADb,aACwBP,EAAKQ,KAD7B,aACsCR,EAAKS,OACtC,MAGTR,ICdES,MAbf,SAA0BlC,GACtB,OACI,wBAAIoB,UAAU,qBACV,4BACIA,UAAU,sBACVC,GAAIrB,EAAMmC,UACVC,QAASpC,EAAMqC,aAEdrC,EAAMI,QCiBRkC,E,iLAtBD,IAAD,OACCC,EAAqBxC,KAAKC,MAAMwC,mBAAmBnC,IAAI,SAAAoC,GAAI,OAC7D,kBAAC,EAAD,CACIrC,KAAMqC,EAAKrC,KACXsC,IAAKD,EAAKpB,GACVc,UAAWM,EAAKpB,GAChBgB,YAAa,EAAKrC,MAAMqC,gBAI1BM,EAAkB5C,KAAKC,MAAM4C,sBAAyB,GAAK,cAEjE,OACI,yBAAKxB,UAAS,qBAAgBuB,IAC1B,wBAAIvB,UAAS,qBACRmB,Q,GAjBKjB,aCWXuB,MAZf,SAAe7C,GACX,IAAM8C,EAAc9C,EAAM4C,sBAAwB,WAAa,GAC/D,OACI,2BACIxB,UAAS,eAAU0B,GACnBC,YAAY,oBACZC,SAAU,SAAAC,GAAC,OAAIjD,EAAMkD,aAAaD,EAAErB,OAAOuB,QAC3CA,MAAOnD,EAAMoD,cC8FVC,E,YA/FX,aAAe,IAAD,8BACV,+CAuBJC,mBAAqB,SAAAH,GACbA,EACA,EAAKI,SAAS,CACVC,OAAQL,EACRP,uBAAuB,GACxBa,mBAAS,WACRC,MAAM,8DAAD,OAA+D,EAAKzB,MAAMuB,SAC1EG,KAAK,EAAKC,cACVD,KAAK,SAAAE,GAAM,OAAIA,EAAOC,SACtBH,KAAK,SAAAE,GACF,EAAKN,SAAS,CACVf,mBAAoBqB,MAI3BE,MAAMC,QAAQC,MACpB,MAGH,EAAKV,SAAS,CACVC,OAAQL,EACRP,uBAAuB,KA3C/B,EAAKX,MAAQ,CACTO,mBAAoB,GACpBgB,OAAQ,GACRd,IAAK,EACLzC,cAAe,CACXG,KAAM,gBACNF,SAAU,YACVC,UAAW,cAEfyC,uBAAuB,GAE3B,EAAKU,mBAAqB,EAAKA,mBAAmBpC,KAAxB,gBAC1B,EAAKmB,YAAc,EAAKA,YAAYnB,KAAjB,gBAdT,E,0EAiBD2C,GACT,IAAKA,EAAOK,GACR,MAAMC,MAAMN,EAAOO,YAEvB,OAAOP,I,kCA6BCQ,GAAQ,IAAD,OACfX,MAAM,2CAAD,OAA4CW,EAAMzC,OAAO0C,aAAa,QACtEX,KAAK,SAAAE,GAAM,OAAIA,EAAOC,SACtBH,KACG,SAAAE,GACI,EAAKN,SAAS,SAAAgB,GACV,MAAO,CACHtE,cAAe4D,EACfnB,IAAK6B,EAAU7B,IAAM,EACrBc,OAAQK,EAAOzD,KACfwC,uBAAuB,S,+BAQ3C,OACI,0BAAMxB,UAAU,QACZ,kBAAC,EAAD,CACI8B,aAAcnD,KAAKuD,mBACnBF,WAAYrD,KAAKkC,MAAMuB,OACvBZ,sBAAuB7C,KAAKkC,MAAMW,wBAEtC,kBAAC,EAAD,CACIM,aAAcnD,KAAKuD,mBACnBd,mBAAoBzC,KAAKkC,MAAMO,mBAC/BH,YAAatC,KAAKsC,YAClBO,sBAAuB7C,KAAKkC,MAAMW,sBAClCvB,GAAItB,KAAKkC,MAAMS,MAEnB,kBAAC,EAAD,CACIzC,cAAeF,KAAKkC,MAAMhC,cAC1BoB,GAAItB,KAAKkC,MAAMS,MAEnB,kBAAC,EAAD,CACIzC,cAAeF,KAAKkC,MAAMhC,cAC1ByC,IAAK3C,KAAKkC,MAAMS,W,GAzFjBpB,aCeJkD,MApBf,WACI,OACI,4BAAQpD,UAAU,UACd,yBAAKA,UAAU,qBACX,yBAAKA,UAAU,mBAAf,cAEI,uBACIA,UAAU,eACVO,KAAK,gCACLC,OAAO,SACPC,IAAI,uBAJR,oBASJ,yBAAKT,UAAU,mBAAf,sCCCDqD,MAhBf,WACI,OACI,4BAAQrD,UAAU,UACd,wBAAIA,UAAU,iBAAd,cACA,uBACIA,UAAU,eACVO,KAAK,sCACLC,OAAO,SACPC,IAAI,uBAEJ,uBAAGT,UAAU,kCCGdsD,MAVf,WACI,OACI,oCACI,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,QCLZC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.6aafe2ba.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport L from 'leaflet'\r\n\r\nclass Map extends Component {\r\n    mapCreating() {\r\n        const position = this.props.chosenBrewery.latitude\r\n            ? [this.props.chosenBrewery.latitude, this.props.chosenBrewery.longitude]\r\n            : [0, 0]\r\n\r\n        const name = (this.props.chosenBrewery.name) ?\r\n            this.props.chosenBrewery.name : ' '\r\n\r\n        const map = L.map('map', { zoomControl: false }).setView(position, 12)\r\n\r\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n            attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n        }).addTo(map)\r\n\r\n        L.marker(position)\r\n            .addTo(map)\r\n            .bindPopup(name)\r\n\r\n        L.control.zoom({\r\n            position: 'bottomright'\r\n        }).addTo(map)\r\n\r\n        setTimeout(map.invalidateSize.bind(map))\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mapCreating()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='map'>\r\n                <div id='map' className='map__content'></div>\r\n                <div className={`map__curtain ${this.props.chosenBrewery.latitude ? 'invisible' : ' '}`}>\r\n                    <p className='map__explanation'>Sorry, geographical coordinates are unknown</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Map\r\n","import React from 'react'\r\n\r\nfunction BreweryData(props) {\r\n    const brew = props.chosenBrewery\r\n    const link = brew.website_url\r\n        ? <a\r\n            className='brewery-data__link'\r\n            href={brew.website_url}\r\n            target='_blank'\r\n            rel='noopener noreferrer'\r\n        >\r\n            {brew.website_url.slice(11)}\r\n        </a>\r\n        : null\r\n\r\n    return (\r\n        <div className='brewery-data'>\r\n            <p className='brewery-data__paragraph'>\r\n                {(brew.name && props.id !== 0)\r\n                    ? brew.name\r\n                    : null\r\n                }\r\n            </p>\r\n            <p className='brewery-data__paragraph'>\r\n                {(brew.street && brew.city && brew.state)\r\n                    ? `${brew.street}, ${brew.city}, ${brew.state}`\r\n                    : null\r\n                }\r\n            </p>\r\n            {link}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BreweryData\r\n","import React from 'react'\r\n\r\nfunction AutocompleteTile(props) {\r\n    return (\r\n        <li className='suggestions__item'>\r\n            <button\r\n                className='suggestions__button'\r\n                id={props.breweryId}\r\n                onClick={props.pickBrewery}\r\n            >\r\n                {props.name}\r\n            </button>\r\n        </li>\r\n    )\r\n}\r\nexport default AutocompleteTile\r\n","import React, { Component } from 'react'\r\nimport AutocompleteTile from './AutocompleteTile'\r\n\r\nclass Suggestions extends Component {\r\n    // Todo - make it functional component\r\n    render() {\r\n        const autocompleteRender = this.props.autocompleteResult.map(item =>\r\n            <AutocompleteTile\r\n                name={item.name}\r\n                key={item.id}\r\n                breweryId={item.id}\r\n                pickBrewery={this.props.pickBrewery}\r\n            />\r\n        )\r\n\r\n        const listVisibility = (this.props.isAutocompleteVisible) ? '' : '--invisible'\r\n\r\n        return (\r\n            <div className={`suggestions${listVisibility}`}>\r\n                <ul className={`suggestions__list`} >\r\n                    {autocompleteRender}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Suggestions\r\n","import React from 'react'\r\n\r\nfunction Input(props) {\r\n    const inputActive = props.isAutocompleteVisible ? '--active' : ''\r\n    return (\r\n        <input\r\n            className={`input${inputActive}`}\r\n            placeholder='Search Brewery...'\r\n            onChange={e => props.autocomplete(e.target.value)}\r\n            value={props.inputValue}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Input\r\n","import React, { Component } from 'react'\r\nimport { debounce } from 'lodash'\r\nimport Map from './Map'\r\nimport BreweryData from './BreweryData'\r\nimport Suggestions from './Suggestions'\r\nimport Input from './Input'\r\n\r\nclass Main extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            autocompleteResult: [],\r\n            search: '',\r\n            key: 0,\r\n            chosenBrewery: {\r\n                name: 'New York City',\r\n                latitude: '40.730610',\r\n                longitude: '-73.935242'\r\n            },\r\n            isAutocompleteVisible: false\r\n        }\r\n        this.submitAutocomplete = this.submitAutocomplete.bind(this)\r\n        this.pickBrewery = this.pickBrewery.bind(this)\r\n    }\r\n\r\n    handleErrors(result) {\r\n        if (!result.ok) {\r\n            throw Error(result.statusText)\r\n        }\r\n        return result\r\n    }\r\n\r\n    submitAutocomplete = value => {\r\n        if (value) {\r\n            this.setState({\r\n                search: value,\r\n                isAutocompleteVisible: true\r\n            }, debounce(() => {\r\n                fetch(`https://api.openbrewerydb.org/breweries/autocomplete?query=${this.state.search}`)\r\n                    .then(this.handleErrors)\r\n                    .then(result => result.json())\r\n                    .then(result => {\r\n                        this.setState({\r\n                            autocompleteResult: result\r\n                        })\r\n                    }\r\n                    )\r\n                    .catch(console.log)\r\n            }, 500)\r\n            )\r\n        } else {\r\n            this.setState({\r\n                search: value,\r\n                isAutocompleteVisible: false\r\n            })\r\n        }\r\n    }\r\n\r\n    pickBrewery(event) {\r\n        fetch(`https://api.openbrewerydb.org/breweries/${event.target.getAttribute('id')}`)\r\n            .then(result => result.json())\r\n            .then(\r\n                result => {\r\n                    this.setState(prevState => {\r\n                        return {\r\n                            chosenBrewery: result,\r\n                            key: prevState.key + 1,\r\n                            search: result.name,\r\n                            isAutocompleteVisible: false\r\n                        }\r\n                    })\r\n                }\r\n            )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <main className='main'>\r\n                <Input\r\n                    autocomplete={this.submitAutocomplete}\r\n                    inputValue={this.state.search}\r\n                    isAutocompleteVisible={this.state.isAutocompleteVisible}\r\n                />\r\n                <Suggestions\r\n                    autocomplete={this.submitAutocomplete}\r\n                    autocompleteResult={this.state.autocompleteResult}\r\n                    pickBrewery={this.pickBrewery}\r\n                    isAutocompleteVisible={this.state.isAutocompleteVisible}\r\n                    id={this.state.key}\r\n                />\r\n                <BreweryData\r\n                    chosenBrewery={this.state.chosenBrewery}\r\n                    id={this.state.key}\r\n                />\r\n                <Map\r\n                    chosenBrewery={this.state.chosenBrewery}\r\n                    key={this.state.key}\r\n                />\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Main\r\n","import React from 'react'\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className='footer'>\r\n            <div className='footer__container'>\r\n                <div className='footer__content'>\r\n                    Powered by:\r\n                    <a\r\n                        className='footer__link'\r\n                        href='https://www.openbrewerydb.org'\r\n                        target='_blank'\r\n                        rel='noopener noreferrer'\r\n                    >\r\n                        Open Brewery DB\r\n                    </a>\r\n                </div>\r\n                <div className='footer__content'>Created by: Dominik Józefiak</div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\nexport default Footer\r\n","import React from 'react'\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className='header'>\r\n            <h1 className='header__title'>Brewfinder</h1>\r\n            <a  \r\n                className='header__link'\r\n                href='https://github.com/DomLJ/Brewfinder'\r\n                target='_blank'\r\n                rel='noopener noreferrer'\r\n            >\r\n                <i className='header__icon fab fa-github'></i>\r\n            </a>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport Main from './Main'\r\nimport Footer from './Footer'\r\nimport Header from './Header'\r\n\r\nfunction App() {\r\n    return (\r\n        <>\r\n            <Header />\r\n            <Main />\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './style.scss'\r\nimport App from './components/App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}